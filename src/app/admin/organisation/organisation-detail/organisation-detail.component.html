<app-top-bar *ngIf="organisation" [data]="organisation" [backButton]="backButton" [subPage]="true"></app-top-bar>

<div class=" jumbotron m-md-4 p-md-3" *ngIf="organisation">
    <div class="row">
        <div class="col-xs-12">
            <div class="float-left">
                <h2> {{organisation.name}}</h2>
            </div>
            <div class="btn-group float-right">
                <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    {{'ORGANISATION.DROPDOWN' | translate}} <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" attr.aria-labelledby="tableRowDropdown-{{organisation.id}}">
                    <li class="dropdown-item">
                        <a [routerLink]="['edit-organisation']"
                            routerLinkActive="active">{{ 'ORGANISATION-TABLE-ROW.EDIT' | translate }}
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a (click)="clickDelete()"
                            [routerLink]="">{{ 'PERMISSION.TABLE-ROW.DELETE' | translate }}
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<div class="jumbotron m-md-4 p-md-3">
    <h4 class="">
        {{ 'ORGANISATION.DETAIL.APPLICATIONS' | translate }}
    </h4>
    <app-applications-table [applications]="applications" (deleteApplication)="deleteApplication($event)"
        [isLoadingResults]="isLoadingResults">
    </app-applications-table>
</div>

<div class="jumbotron m-md-4 p-md-3">
    <h4 class="">
        {{ 'ORGANISATION.DETAIL.PERMISSIONS' | translate }}
    </h4>
    <app-permission-tabel [permissions]="permissions" (deletePermission)="deletePermission($event)">
    </app-permission-tabel>
</div>