<ng-container *ngIf="application">
  <app-top-bar-single [data]="application" [backButton]="backButton" [buttons]="buttons"></app-top-bar-single>
  <div class="jumbotron my-4 m-md-4 py-3 p-md-3">
    <div class="row">
      <div class="col-md-8 ">
        <div class="float-left">
          <h4>{{ 'APPLICATION.DESCRIPTION' | translate }}</h4>
          <p>{{description}}</p>
        </div>
      </div>
      <div class="col-md-4 order-first order-md-last ">
        <div class="btn-group float-md-right dropdown">
          <ul>
            <li>
              <button type="button" id="dropdown-{{ application.name }}" class="btn btn-primary dropdown-toggle"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                {{'APPLICATION-TABLE-ROW.SHOW-OPTIONS' | translate}} <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" attr.aria-labelledby="dropdown-{{application.name}}">
                <li class="dropdown-item">
                  <a (click)="onEditApplication()">{{ 'USERS.TABLE-ROW.EDIT' | translate }}
                  </a>
                </li>
                <li class="dropdown-item">
                  <a (click)="onDeleteApplication()">{{ 'USERS.TABLE-ROW.DELETE' | translate }}
                  </a>
                </li>
              </ul>
            </li>
            <li>
              <button class="mt-2 btn btn-primary" type="button" [routerLink]="['datatarget-list', application.name]"
                routerLinkActive="active">{{ 'APPLICATION.DATATARGET-SHOW' | translate }}</button>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="jumbotron my-4 m-md-4 py-3 p-md-3">
    <div class="row">
      <div class="col-sm-12">
        <app-sub-bar [component]="true" [title]="'APPLICATION.ATTACHED-IOT' | translate" [sort]="sort"
          [(selectedSortId)]="selectedSortId" [pageLimit]="pageLimit"
          [ctaLabelPrimary]="'FORM.CREATE-NEW-IOT-DEVICE' | translate" [ctaRouterLinkPrimary]="'new-iot-device'"
          [ctaLabelSecondary]="'APPLICATION.IMPORT-CSV' | translate" [ctaRouterLinkSecondary]="'bulk-import'"
          (updatePageLimit)="updatePageLimit($event)" (selectedSortChange)="changeSort($event)"></app-sub-bar>
        <app-iot-devices-table [application]="application"></app-iot-devices-table>
      </div>
    </div>
  </div>

</ng-container>